
<!DOCTYPE html>


<html lang="en" data-content_root="../../../../../../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>isbot ü§ñ/üë®‚Äçü¶∞ &#8212; COMSC341-CD: Causal Inference for Data Science</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../../../../../_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../../../../../../../_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../../../../../../../_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="../../../../../../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/style.css?v=56f12780" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../../../../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="../../../../../../../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="../../../../../../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="../../../../../../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../../../../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../../../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../../../../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../../../../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../../../../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../../../../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../../../../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'test_myst/_build/templates/site/myst/article-theme/node_modules/isbot/README';</script>
    <link rel="index" title="Index" href="../../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../../../../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../../../../../../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">COMSC341-CD: Causal Inference for Data Science</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../../../../../../index.html">
                    Causal Inference for Data Science
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Syllabus</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../syllabus/values.html">Goals and Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../syllabus/policies.html">Course Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../syllabus/office_hours.html">Office Hours</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../syllabus/schedule.html">Schedule</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../resources/submit.html">How to Run and Submit</a></li>


<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../resources/catalog.html">Causal Catalog</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Activities</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../activities/activities.html">In-Class Activities</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Worksheets</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../worksheets/ws1.html">Worksheet 1 üé≤</a></li>






<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../worksheets/ws2.html">Worksheet 2 üêº</a></li>






<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../worksheets/ws3.html">Worksheet 3 üìä</a></li>







<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../worksheets/ws4.html">Worksheet 4 üìà</a></li>







</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Projects</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../../../../projects/proj1.html">Project 1 üë∂</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../../projects/proj1_functions.html">Project 1 Part 1: Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../../projects/proj1_analysis.html">Project 1 Part 2: Analysis</a></li>

</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../projects/proj2.html">Project 2 üë•</a></li>

</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../../../../../../_sources/test_myst/_build/templates/site/myst/article-theme/node_modules/isbot/README.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>isbot ü§ñ/üë®‚Äçü¶∞</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#usage">Usage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-functionality">Additional functionality</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extend-add-user-agent-patterns">Extend: Add user agent patterns</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exclude-remove-matches-of-known-crawlers">Exclude: Remove matches of known crawlers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#find-verbose-result">Find: Verbose result</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#matches-get-patterns">Matches: Get patterns</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clear">Clear:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spawn-create-new-instances">Spawn: Create new instances</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-a-copy-of-the-regular-expression-pattern">Get a copy of the Regular Expression pattern</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#definitions">Definitions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clarifications">Clarifications</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-does-isbot-do">What does ‚Äúisbot‚Äù do?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-doesn-t-isbot-do">What doesn‚Äôt ‚Äúisbot‚Äù do?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-would-i-want-to-identify-good-bots">Why would I want to identify good bots?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-sources">Data sources</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crawlers-user-agents">Crawlers user agents:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#non-bot-user-agents">Non bot user agents:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#major-releases-breaking-changes-full-changelog">Major releases breaking changes (<span class="xref myst">full changelog</span>)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#version-3"><strong>Version 3</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#version-2"><strong>Version 2</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#version-1"><strong>Version 1</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#real-world-data">Real world data</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="isbot">
<h1>isbot ü§ñ/üë®‚Äçü¶∞<a class="headerlink" href="#isbot" title="Link to this heading">#</a></h1>
<p><a class="reference external" href="https://www.npmjs.com/package/isbot"><img alt="" src="https://img.shields.io/npm/v/isbot.svg?style=flat-square" /></a> <a class="reference external" href="https://www.npmjs.com/package/isbot"><img alt="" src="https://img.shields.io/npm/dt/isbot?style=flat-square" /></a> <a class="reference external" href="https://circleci.com/gh/omrilotan/isbot"><img alt="" src="https://img.shields.io/circleci/build/github/omrilotan/isbot?style=flat-square" /></a> <a class="reference external" href="https://github.com/omrilotan/isbot/graphs/commit-activity"><img alt="" src="https://img.shields.io/github/last-commit/omrilotan/isbot?style=flat-square" /></a> <a class="reference external" href="https://www.jsdelivr.com/package/npm/isbot"><img alt="" src="https://data.jsdelivr.com/v1/package/npm/isbot/badge" /></a></p>
<p><a class="reference external" href="https://isbot.js.org"><img alt="" src="test_myst/_build/templates/site/myst/article-theme/node_modules/isbot/page/isbot.svg" /></a></p>
<p>Detect bots/crawlers/spiders using the user agent string.</p>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading">#</a></h2>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">isbot</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;isbot&#39;</span>

<span class="c1">// Nodejs HTTP</span>
<span class="nx">isbot</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">getHeader</span><span class="p">(</span><span class="s1">&#39;User-Agent&#39;</span><span class="p">))</span>

<span class="c1">// ExpressJS</span>
<span class="nx">isbot</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;user-agent&#39;</span><span class="p">))</span>

<span class="c1">// Browser</span>
<span class="nx">isbot</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">)</span>

<span class="c1">// User Agent string</span>
<span class="nx">isbot</span><span class="p">(</span><span class="s1">&#39;Mozilla/5.0 (iPhone; CPU iPhone OS 6_0 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gecko) Version/6.0 Mobile/10A5376e Safari/8536.25 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// true</span>
<span class="nx">isbot</span><span class="p">(</span><span class="s1">&#39;Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// false</span>
</pre></div>
</div>
<p>Using JSDeliver CDN you can import an iife script</p>
<blockquote>
<div><p>See specific versions <a class="reference external" href="https://www.jsdelivr.com/package/npm/isbot">https://www.jsdelivr.com/package/npm/isbot</a> or <a class="reference external" href="https://cdn.jsdelivr.net/npm/isbot">https://cdn.jsdelivr.net/npm/isbot</a></p>
</div></blockquote>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm/isbot@3&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
// isbot is global
isbot(navigator.userAgent)
</pre></div>
</div>
</section>
<section id="additional-functionality">
<h2>Additional functionality<a class="headerlink" href="#additional-functionality" title="Link to this heading">#</a></h2>
<section id="extend-add-user-agent-patterns">
<h3>Extend: Add user agent patterns<a class="headerlink" href="#extend-add-user-agent-patterns" title="Link to this heading">#</a></h3>
<p>Add rules to user agent match RegExp: Array of strings</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">isbot</span><span class="p">(</span><span class="s1">&#39;Mozilla/5.0 (X11) Firefox/111.0&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// false</span>
<span class="nx">isbot</span><span class="p">.</span><span class="nx">extend</span><span class="p">([</span>
<span class="w">    </span><span class="s1">&#39;istat&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;x11&#39;</span>
<span class="p">])</span>
<span class="nx">isbot</span><span class="p">(</span><span class="s1">&#39;Mozilla/5.0 (X11) Firefox/111.0&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// true</span>
</pre></div>
</div>
</section>
<section id="exclude-remove-matches-of-known-crawlers">
<h3>Exclude: Remove matches of known crawlers<a class="headerlink" href="#exclude-remove-matches-of-known-crawlers" title="Link to this heading">#</a></h3>
<p>Remove rules to user agent match RegExp (see existing rules in <code class="docutils literal notranslate"><span class="pre">src/list.json</span></code> file)</p>
<blockquote>
<div><p>This function requires konwnledge of the internal structure of the list - which may change at any time. It is recommended to use the <code class="docutils literal notranslate"><span class="pre">clear</span></code> function instead</p>
</div></blockquote>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">isbot</span><span class="p">(</span><span class="s1">&#39;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4590.2 Safari/537.36 Chrome-Lighthouse&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// true</span>
<span class="nx">isbot</span><span class="p">.</span><span class="nx">exclude</span><span class="p">([</span><span class="s1">&#39;chrome-lighthouse&#39;</span><span class="p">])</span><span class="w"> </span><span class="c1">// pattern is case insensitive</span>
<span class="nx">isbot</span><span class="p">(</span><span class="s1">&#39;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4590.2 Safari/537.36 Chrome-Lighthouse&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// false</span>
</pre></div>
</div>
</section>
<section id="find-verbose-result">
<h3>Find: Verbose result<a class="headerlink" href="#find-verbose-result" title="Link to this heading">#</a></h3>
<p>Return the respective match for bot user agent rule</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">isbot</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0 DejaClick/2.9.7.2&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// &#39;DejaClick&#39;</span>
</pre></div>
</div>
</section>
<section id="matches-get-patterns">
<h3>Matches: Get patterns<a class="headerlink" href="#matches-get-patterns" title="Link to this heading">#</a></h3>
<p>Return all patterns that match the user agent string</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">isbot</span><span class="p">.</span><span class="nx">matches</span><span class="p">(</span><span class="s1">&#39;Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0 SearchRobot/1.0&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// [&#39;bot&#39;, &#39;search&#39;]</span>
</pre></div>
</div>
</section>
<section id="clear">
<h3>Clear:<a class="headerlink" href="#clear" title="Link to this heading">#</a></h3>
<p>Remove all matching patterns so this user agent string will pass</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">ua</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0 SearchRobot/1.0&#39;</span><span class="p">;</span>
<span class="nx">isbot</span><span class="p">(</span><span class="nx">ua</span><span class="p">)</span><span class="w"> </span><span class="c1">// true</span>
<span class="nx">isbot</span><span class="p">.</span><span class="nx">clear</span><span class="p">(</span><span class="nx">ua</span><span class="p">)</span>
<span class="nx">isbot</span><span class="p">(</span><span class="nx">ua</span><span class="p">)</span><span class="w"> </span><span class="c1">// false</span>
</pre></div>
</div>
</section>
<section id="spawn-create-new-instances">
<h3>Spawn: Create new instances<a class="headerlink" href="#spawn-create-new-instances" title="Link to this heading">#</a></h3>
<p>Create new instances of isbot. Instance is spawned using spawner‚Äôs list as base</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">isbot</span><span class="p">.</span><span class="nx">spawn</span><span class="p">()</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">two</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">isbot</span><span class="p">.</span><span class="nx">spawn</span><span class="p">()</span>

<span class="nx">two</span><span class="p">.</span><span class="nx">exclude</span><span class="p">([</span><span class="s1">&#39;chrome-lighthouse&#39;</span><span class="p">])</span>
<span class="nx">one</span><span class="p">(</span><span class="s1">&#39;Chrome-Lighthouse&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// true</span>
<span class="nx">two</span><span class="p">(</span><span class="s1">&#39;Chrome-Lighthouse&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// false</span>
</pre></div>
</div>
<p>Create isbot using custom list (<strong>instead</strong> of the maintained list)</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">lean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">isbot</span><span class="p">.</span><span class="nx">spawn</span><span class="p">([</span><span class="w"> </span><span class="s1">&#39;bot&#39;</span><span class="w"> </span><span class="p">])</span>
<span class="nx">lean</span><span class="p">(</span><span class="s1">&#39;Googlebot&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// true</span>
<span class="nx">lean</span><span class="p">(</span><span class="s1">&#39;Chrome-Lighthouse&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// false</span>
</pre></div>
</div>
</section>
<section id="get-a-copy-of-the-regular-expression-pattern">
<h3>Get a copy of the Regular Expression pattern<a class="headerlink" href="#get-a-copy-of-the-regular-expression-pattern" title="Link to this heading">#</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">pattern</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">isbot</span>
</pre></div>
</div>
</section>
</section>
<section id="definitions">
<h2>Definitions<a class="headerlink" href="#definitions" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>Bot.</strong> Autonomous program imitating or replacing some aspect of a human behaviour, performing repetitive tasks much faster than human users could.</p></li>
<li><p><strong>Good bot.</strong> Automated programs who visit websites in order to collect useful information. Web crawlers, site scrapers, stress testers, preview builders and other programs are welcomed on most websites because they serve purposes of mutual benefits.</p></li>
<li><p><strong>Bad bot.</strong> Programs which are designed to perform malicious actions, ultimately hurting businesses. Testing credential databases, DDoS attacks, spam bots.</p></li>
</ul>
</section>
<section id="clarifications">
<h2>Clarifications<a class="headerlink" href="#clarifications" title="Link to this heading">#</a></h2>
<section id="what-does-isbot-do">
<h3>What does ‚Äúisbot‚Äù do?<a class="headerlink" href="#what-does-isbot-do" title="Link to this heading">#</a></h3>
<p>This package aims to identify ‚ÄúGood bots‚Äù. Those who voluntarily identify themselves by setting a unique, preferably descriptive, user agent, usually by setting a dedicated request header.</p>
</section>
<section id="what-doesn-t-isbot-do">
<h3>What doesn‚Äôt ‚Äúisbot‚Äù do?<a class="headerlink" href="#what-doesn-t-isbot-do" title="Link to this heading">#</a></h3>
<p>It does not try to recognise malicious bots or programs disguising themselves as real users.</p>
</section>
<section id="why-would-i-want-to-identify-good-bots">
<h3>Why would I want to identify good bots?<a class="headerlink" href="#why-would-i-want-to-identify-good-bots" title="Link to this heading">#</a></h3>
<p>Recognising good bots such as web crawlers is useful for multiple purposes. Although it is not recommended to serve different content to web crawlers like Googlebot, you can still elect to</p>
<ul class="simple">
<li><p>Flag pageviews to consider with <strong>business analysis</strong>.</p></li>
<li><p>Prefer to serve cached content and <strong>relieve service load</strong>.</p></li>
<li><p>Omit third party solutions‚Äô code (tags, pixels) and <strong>reduce costs</strong>.</p></li>
</ul>
<blockquote>
<div><p>It is not recommended to whitelist requests for any reason based on user agent header only. Instead other methods of identification can be added such as <a class="reference external" href="https://www.npmjs.com/package/reverse-dns-lookup">reverse dns lookup</a>.</p>
</div></blockquote>
</section>
</section>
<section id="data-sources">
<h2>Data sources<a class="headerlink" href="#data-sources" title="Link to this heading">#</a></h2>
<p>We use external data sources on top of our own lists to keep up to date</p>
<section id="crawlers-user-agents">
<h3>Crawlers user agents:<a class="headerlink" href="#crawlers-user-agents" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://user-agents.net/bots">user-agents.net</a></p></li>
<li><p><a class="reference external" href="https://raw.githubusercontent.com/monperrus/crawler-user-agents/master/crawler-user-agents.json">crawler-user-agents repo</a></p></li>
<li><p><a class="reference external" href="https://www.myip.ms/files/bots/live_webcrawlers.txt">myip.ms</a></p></li>
<li><p><a class="reference external" href="https://github.com/matomo-org/device-detector/blob/master/Tests/fixtures/bots.yml">matomo.org</a></p></li>
<li><p>A Manual list</p></li>
</ul>
</section>
<section id="non-bot-user-agents">
<h3>Non bot user agents:<a class="headerlink" href="#non-bot-user-agents" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://www.npmjs.com/package/user-agents">user-agents npm package</a></p></li>
<li><p>A Manual list</p></li>
</ul>
<p>Missing something? Please <a class="reference external" href="https://github.com/omrilotan/isbot/issues/new/choose">open an issue</a></p>
</section>
</section>
<section id="major-releases-breaking-changes-full-changelog">
<h2>Major releases breaking changes (<a class="reference internal" href="#./CHANGELOG.md"><span class="xref myst">full changelog</span></a>)<a class="headerlink" href="#major-releases-breaking-changes-full-changelog" title="Link to this heading">#</a></h2>
<section id="version-3">
<h3><a class="reference external" href="https://github.com/omrilotan/isbot/releases/tag/v3.0.0"><strong>Version 3</strong></a><a class="headerlink" href="#version-3" title="Link to this heading">#</a></h3>
<p>Remove testing for node 6 and 8</p>
</section>
<section id="version-2">
<h3><a class="reference external" href="https://github.com/omrilotan/isbot/releases/tag/v2.0.0"><strong>Version 2</strong></a><a class="headerlink" href="#version-2" title="Link to this heading">#</a></h3>
<p>Change return value for isbot: <code class="docutils literal notranslate"><span class="pre">true</span></code> instead of matched string</p>
</section>
<section id="version-1">
<h3><a class="reference external" href="https://github.com/omrilotan/isbot/releases/tag/v1.0.0"><strong>Version 1</strong></a><a class="headerlink" href="#version-1" title="Link to this heading">#</a></h3>
<p>No functional change</p>
</section>
</section>
<section id="real-world-data">
<h2>Real world data<a class="headerlink" href="#real-world-data" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Execution times in milliseconds</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><img alt="" src="https://user-images.githubusercontent.com/516342/125660283-c6ef9db8-6162-449b-912d-7b7ae97ef411.png" /></p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./test_myst/_build/templates/site/myst/article-theme/node_modules/isbot"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#usage">Usage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-functionality">Additional functionality</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extend-add-user-agent-patterns">Extend: Add user agent patterns</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exclude-remove-matches-of-known-crawlers">Exclude: Remove matches of known crawlers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#find-verbose-result">Find: Verbose result</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#matches-get-patterns">Matches: Get patterns</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clear">Clear:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spawn-create-new-instances">Spawn: Create new instances</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-a-copy-of-the-regular-expression-pattern">Get a copy of the Regular Expression pattern</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#definitions">Definitions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clarifications">Clarifications</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-does-isbot-do">What does ‚Äúisbot‚Äù do?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-doesn-t-isbot-do">What doesn‚Äôt ‚Äúisbot‚Äù do?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-would-i-want-to-identify-good-bots">Why would I want to identify good bots?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-sources">Data sources</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crawlers-user-agents">Crawlers user agents:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#non-bot-user-agents">Non bot user agents:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#major-releases-breaking-changes-full-changelog">Major releases breaking changes (<span class="xref myst">full changelog</span>)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#version-3"><strong>Version 3</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#version-2"><strong>Version 2</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#version-1"><strong>Version 1</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#real-world-data">Real world data</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p>
  Causal Inference for Data Science is licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>.
</p>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../../../../../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="../../../../../../../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>